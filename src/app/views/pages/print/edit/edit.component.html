<div *ngIf="isLoading" class="d-flex justify-content-center">
  <div class="spinner-border" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>
<form *ngIf="!isLoading" class="forms-sample" [formGroup]="printForm" (ngSubmit)="onSubmit()">
  <div class="row">
    <div class="col-md-12 grid-margin stretch-card">
      <div class="card">
        <div class="card-body">
          <div class="row mb-3">
            <div class="col-md-6">
              <label class="form-label">Mẫu in</label>
              <ng-select [searchable]="true" placeholder="Chọn Đơn Bán hàng">
                <ng-option *ngFor="let item of salesUnit" [value]="item.id">{{
                  item.name
                  }}</ng-option>
              </ng-select>
            </div>
            <div class="col-md-6">
              <label class="form-label">Khổ in</label>
              <ng-select [searchable]="true" placeholder="Chọn khổ in">
                <ng-option *ngFor="let item of printSize" [value]="item.id" >{{
                  item.name
                  }}</ng-option>
              </ng-select>
            </div>
          </div>
          <div class="mb-3">
            <label for="exampleInputUsername1" class="form-label">
              Chi nhánh áp dụng
              <span class="text-danger">(*)</span>
            </label>
            <ng-select [searchable]="true" placeholder="Chọn chi nhánh">
              <ng-option *ngFor="let item of listLocation" [value]="item.id">{{
                item.name
                }}</ng-option>
            </ng-select>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 grid-margin stretch-card">
      <div class="card">
        <div class="card-body align-items-center">
          <div class="row align-items-center">
            <div class="col-md-6">
              <button class="btn btn-secondary">Về mặc định</button>
            </div>
            <div class="col-md-6">
              <button class="btn btn-primary" (click)="openXlModal(xlModal)">
                Thêm từ khóa
              </button>
            </div>
          </div>
          <!-- Modal -->
          <ng-template #xlModal let-modal>
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Danh sách từ khóa</h5>
              <button type="button" class="btn-close" (click)="modal.close('by: close icon')"
                aria-label="Close"></button>
            </div>

            <div class="modal-body">
              <ngb-alert [dismissible]="false" [type]="'warning'">Từ khóa được chọn sẽ được thêm tại vị trí của con trỏ
                chuột trên màn hình Sửa mẫu in.</ngb-alert>
              <p>Modal body</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" (click)="modal.close('by: close button')">
                Đóng
              </button>
              <button type="button" class="btn btn-primary" (click)="modal.close('by: save button')">
                Hoàn tất
              </button>
            </div>
          </ng-template>
        </div>
        <ckeditor data="{{myContent}}" [(ngModel)]="myContent"  #myckeditor="ngModel"
        name="myckeditor"
        required
        debounce="500"
       ></ckeditor>
      </div>
    </div>
    <div class="col-md-6 grid-margin stretch-card">
      <div class="card">
        <div class="card-body d-flex flex-column" style="max-height: 500px;" [perfectScrollbar]>
          <p [innerHTML]="myContent" ></p>
        </div>
      </div>
    </div>
  </div>
</form>
