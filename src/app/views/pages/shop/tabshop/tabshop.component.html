<div class="row">
    <div class="col-lg-8 grid-margin stretch-card">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">DANH SÁCH SẢN PHẨM</h4>
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Sản Phẩm</th>
                                <th>Đơn Vị</th>
                                <th>Số lượng</th>
                                <th>Đơn giá</th>
                                <th>Thành tiền</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of listProductCart[tabDefault]; index as i">
                                <td class="d-flex">
                                    <div class="py-1">
                                        <img src="http://via.placeholder.com/36x36" alt="image">
                                    </div>
                                    <div class="ms-2">
                                        <h6>{{ item.display_name }}</h6>
                                        <p>{{ item.sku }}</p>
                                    </div>
                                </td>
                                <td class="align-middle">{{ item.product.item_unit == null ? "Chưa có đơn vị" :  item.product.item_unit.name  }}</td>
                                <td>
                                    <div class="d-flex">
                                        <button type="button" (click)="decreaseQuantity(item.id)"
                                            class="btn btn-lg text-black-50">-</button>
                                        <input type="number" name="quanity" id="{{ 'quantity-' + item.id }}"
                                            data-id="{{ item.id }}" value="{{ item.quanity }}"
                                            (input)="resultTotal($event)" class="form-control">
                                        <button type="button" (click)="increaseQuantity(item.id)"
                                            class="btn btn-lg text-black-50">+</button>
                                    </div>
                                </td>
                                <td class="align-middle">
                                    <div class="d-flex">
                                        <input type="text" class="form-control" data-id="{{ item.id }}" name="price"
                                            value="{{ item.price_export }}" (input)="resultTotal($event)"
                                            (click)="openBasicModalPrice(basicModal,item.id,i)">
                                    </div>
                                </td>
                                <td class="text-primary align-middle">{{ item.result | currency:'VND' }}</td>
                                <td class="align-middle" style="cursor: pointer;">
                                    <i class="feather text-danger icon-x icon-md " (click)="removeItemCart(i)"></i>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div>
            <div class="card-footer">
                <ngb-accordion [closeOthers]="true" activeIds="static-1">
                    <ngb-panel id="static-1" title="Danh sách sản phẩm">
                        <ng-template ngbPanelContent>
                            <div class="row">
                                <div class="col-4" *ngFor="let items of ListProducts">

                                    <div class="card d-block" *ngIf="items.length > 1; else showFirstItem">
                                        <div class="card-body p-2 d-flex align-items-center justify-content-evenly">
                                            <div class="d-flex align-items-center">
                                                <div class="img-products">
                                                    <img width="100%"
                                                        src="https://prod-core-images.s3.ap-southeast-1.amazonaws.com/nextshop/1697731423873.jpg"
                                                        alt="">
                                                </div>
                                                <div>
                                                    <h1 class="item-name">{{ items[0].product.name }}</h1>
                                                    <div>
                                                        <span class="price-name fs-6">{{ items[0].price_export }}₫</span>
                                                        <span class="price-name ms-2">
                                                            <ng-container
                                                                *ngIf="items[0].quantity === 0; else quantityAvailable">
                                                                <span style="color: red;">Hết hàng</span>
                                                            </ng-container>
                                                            <ng-template #quantityAvailable>
                                                                <span style="font-size: 10px;color: #808890;">  SL: {{ items[0].quantity }}</span>
                                                            </ng-template>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="cursor: pointer;">
                                                <i (click)="openBasicModalVerison(typeProducts,items)"
                                                    class="feather text-primary icon-plus icon-md "></i>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Không biến thể -->
                                    <ng-template #showFirstItem>
                                        <div class="card d-block mt-2">
                                            <div class="card-body p-2 d-flex align-items-center justify-content-evenly">
                                                <div class="d-flex align-items-center">
                                                    <div class="img-products">
                                                        <img width="100%"
                                                            src="https://prod-core-images.s3.ap-southeast-1.amazonaws.com/nextshop/1697731423873.jpg"
                                                            alt="">
                                                    </div>
                                                    <div>
                                                        <h1 class="item-name fs-6">{{ items[0].product.name }}</h1>
                                                        <div>
                                                            <span class="price-name">{{ items[0].price_export }}₫</span>
                                                            <span class="price-name ms-2">
                                                                <ng-container
                                                                    *ngIf="items[0].quantity === 0; else quantityAvailable">
                                                                    <span style="color: red;">Hết hàng</span>
                                                                </ng-container>
                                                                <ng-template #quantityAvailable>
                                                                    <span style="font-size: 10px;color: #808890;">  SL: {{ items[0].quantity }}</span>
                                                                </ng-template>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div style="cursor: pointer;">
                                                    <i (click)="items[0].quantity > 0 ? addProduct(items[0]) : addProductQuality(items[0])"
                                                        class="feather text-primary icon-plus icon-md "></i>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-template>
                                </div>
                            </div>

                        </ng-template>
                    </ngb-panel>
                </ngb-accordion>
            </div>
        </div>
    </div>
    <div class="col-lg-4 grid-margin stretch-card">
        <div class="card">
            <div class="card-body">
                <div class="mb-3 position-relative">
                    <div class="d-flex justify-content-between">
                        <h6 class="card-title">Thêm khách hàng vào đơn</h6>
                        <i style="cursor: pointer;" class="feather text-primary icon-plus-circle icon-md"
                            (click)="openBasicModal(basicModalAddUser)"></i>
                    </div>
                    <ng-select [items]="people" bindLabel="displayName" bindValue="id" placeholder="TÌM KIẾM KHÁCH HÀNG"
                        [(ngModel)]="selectedSearchPersonId" (change)="peopleEvent()">
                    </ng-select>

                    <!-- <input type="text" class="form-control" id="exampleInputUsername1" autocomplete="off"
                        placeholder="Thêm khách hàng vào đơn"> -->

                </div>
                <b class="title-bill">THÔNG TIN ĐƠN HÀNG</b>
                <div class="table-responsive">
                    <table class="table">
                        <tbody>
                            <tr>
                                <td>Tổng tiền ({{ listProductCart[tabDefault].length }} sản phầm)</td>
                                <td class="text-end">{{ totalMoney | currency:'VND' }}</td>
                            </tr>
                            <tr>
                                <td class="align-middle">Thuế tổng đơn (%)</td>
                                <td class="text-end"><input type="number"
                                        class="form-control  text-end border-0 border-bottom " value="{{ singleTax }}"
                                        [(ngModel)]="singleTax" (input)="resultBill(tabDefault)"></td>
                            </tr>
                            <tr>
                                <td class="text-bold-800 align-middle">Chiết khấu ({{ modelRadioBill == 1 ? '%' : 'đ'
                                    }})</td>
                                <td class="text-bold-800 text-end"><input type="number"
                                        (click)="openBasicModal(basicModaldiscount)" value="{{ DiscountBill }}"
                                        class="form-control  text-end   border-0 border-bottom"></td>
                            </tr>
                            <tr>
                                <td class="text-bold-800 align-middle">Phí dịch vụ</td>
                                <td class="text-bold-800 text-end"><input type="number" value="{{ taxBill }}"
                                        class="form-control  text-end  border-0 border-bottom" [(ngModel)]="taxBill"
                                        (input)="resultBill(tabDefault)"></td>
                            </tr>
                            <tr class="bg-light">
                                <td class="text-bold-800 fw-bold align-middle">Khách phải trả</td>
                                <td class="text-bold-800 text-end text-primary fw-bold">{{ priceBill | currency:'VND' }}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <hr>
                <b class="title-bill">KHÁCH TRẢ</b>
                <div class="table-responsive">
                    <table class="table">
                        <tbody>
                            <tr>
                                <td class="text-primary fw-bold align-middle">Tiền mặt</td>
                                <td class="text-end"><input type="number" value="{{ cashPrice  }}"
                                        class="form-control  text-end border-0 border-bottom " [(ngModel)]="cashPrice"
                                        (input)="changeCash($event)"></td>
                            </tr>
                            <tr>
                                <td class="text-bold-800 align-middle">Còn lại cần thanh toán</td>
                                <td class="text-end"><input type="text" value="{{ paymentPrice  }}"
                                        class="form-control bg-white border-0 text-end" disabled></td>
                            </tr>
                            <tr>
                                <td class="text-bold-800 fw-bold fs-5 align-middle">Tiền thừa</td>
                                <td class="text-end"><input type="text" value="{{ changeBill  }}"
                                        class="form-control bg-white border-0 fs-3 text-end fw-bold" disabled></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="card-footer">
                <div class="d-flex align-items-center form-control border-0 border-bottom  mb-2 ">
                    <i class="feather icon-edit-3 title-bill icon-md "></i>
                    <input type="text" class="border-0 ms-2 btn-icon-edit w-100 fw-bold" value="{{ noteBill }}"
                        [(ngModel)]="noteBill" (input)="noteBillEvent()" placeholder="Thêm ghi chú cho đơn hàng">
                </div>
                <button type="button" class="btn btn-primary w-100 p-4 fs-4 fw-bold"
                    (click)="openLgModal(basicPay)">Thanh Toán</button>
            </div>
        </div>
    </div>
</div>

<ng-template #basicModal let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Điều chỉnh giá sản phẩm</h5>
        <button type="button" class="btn-close" (click)="modal.close(false)" aria-label="Close"></button>
    </div>
    <div class="modal-body">
        <div class="mb-3">
            <label for="unit_price" class="form-label">Đơn giá</label>
            <input type="number" class="form-control" [(ngModel)]="priceFormModal" id="unit_price" autocomplete="off"
                value="{{ currentPrice }}" name="price">
        </div>
        <div class="mb-3 ">
            <label for="Discount" class="form-label">Chiết khấu</label>
            <div class="position-relative">
                <input type="number" class="form-control p-3" id="Discount" (input)="limitInput($event)"
                    [(ngModel)]="discount" placeholder="Chiết khấu" >
                <div class="btn-group position-absolute top-50 end-0 translate-middle-y" role="group"
                    aria-label="Basic radio toggle button group">
                    <input type="radio" class="btn-check" [(ngModel)]="modelRadio" (change)="statusTotal()" [value]="0"
                        name="btnradio" id="btnradio2" autocomplete="off">
                    <label class="btn btn-outline-primary" for="btnradio2">đ</label>

                    <input type="radio" class="btn-check" checked [(ngModel)]="modelRadio" (change)="statusTotal()"
                        [value]="1" name="btnradio" id="btnradio3" autocomplete="off">
                    <label class="btn btn-outline-primary" for="btnradio3">%</label>
                </div>
            </div>
        </div>
        <div class="mb-3">
            <label for="Tax" class="form-label">Thuế(%)</label>
            <input type="number" class="form-control" [(ngModel)]="tax" id="Tax" (input)="limitInputTax($event)" autocomplete="off" value="0">
        </div>


    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modal.close(false)">Thoát</button>
        <button type="button" class="btn btn-primary" (click)="modal.close(true)">Áp dụng</button>
    </div>
</ng-template>
<!-- Close result -->
<p *ngIf="basicModalCloseResult != ''" class="mt-2">{{basicModalCloseResult}}</p>

<ng-template #basicModalAddUser let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Thêm mới khách hàng</h5>
        <button type="button" class="btn-close" (click)="modal.close(false)" aria-label="Close"></button>
    </div>
    <div class="modal-body">
        <div class="mb-3">
            <label for="fulName" class="form-label">Họ và tên <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="fulName" [(ngModel)]="dataAdd.name">
        </div>
        <div class="mb-3">
            <label for="phoneNumber" class="form-label">Số điện thoại <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="phoneNumber" [(ngModel)]="dataAdd.tel">
        </div>


    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modal.close(false)">Hủy</button>
        <button type="button" class="btn btn-primary" (click)="modal.close(true)">Hoàn Tất</button>
    </div>
</ng-template>

<ng-template #typeProducts let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Chọn biến thể sản phẩm</h5>
        <button type="button" class="btn-close" (click)="modal.close(false)" aria-label="Close"></button>
    </div>
    <div class="modal-body">
        <div class="table-responsive">
            <table class="table table-striped">
                <tbody>


                    <tr *ngFor="let item of versionProduct,index as i"
                        class="d-flex justify-content-between border-bottom border-dark" style="background: #e9ecef;">
                        <td class="d-flex align-items-center border-0">
                            <div class="py-1">
                                <img src="http://via.placeholder.com/36x36" alt="image">
                            </div>
                            <div class="ms-2">
                                <h6>{{ item.display_name }}</h6>
                            </div>
                        </td>
                        <div class="d-flex align-items-center">
                            <td class=" d-flex flex-column">


                                <ng-container *ngIf="item.quantity === 0; else quantityAvailable">
                                    <div class="ms-2">
                                        <span style="color: red;">Hết hàng</span>
                                    </div>
                                </ng-container>
                                <ng-template #quantityAvailable>
                                    <div class="text-primary align-middle text-center">
                                        {{ item.price_export | currency:'VND' }}
                                    </div>
                                    <div class="ms-2">
                                        <span style="font-size: 12px;color: #808890;">SL: {{ item.quantity }}</span>
                                    </div>
                                </ng-template>


                            </td>
                            <td class="align-middle ms-2" style="cursor: pointer;">
                                <i class="feather text-primary icon-plus icon-md " (click)="item.quantity === 0 ?  addProductQuality(item) : addProduct(item)"></i>
                            </td>
                        </div>
                    </tr>

                </tbody>
            </table>
        </div>

    </div>
</ng-template>

<ng-template #basicModaldiscount let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Chiết khấu đơn hàng</h5>
        <button type="button" class="btn-close" (click)="modal.close(false)" aria-label="Close"></button>
    </div>
    <div class="modal-body">
        <div class="mb-3 ">
            <label for="Discount" class="form-label">Chiết khấu</label>
            <div class="position-relative">
                <input type="number" class="form-control p-3" id="Discount" [(ngModel)]="DiscountBill"
                    (change)="resultBill(tabDefault)" placeholder="Email" value="0">
                <div class="btn-group position-absolute top-50 end-0 translate-middle-y" role="group"
                    aria-label="Basic radio toggle button group">
                    <input type="radio" class="btn-check" [(ngModel)]="modelRadioBill" [value]="0" name="btnradio"
                        id="btnradio2" autocomplete="off">
                    <label class="btn btn-outline-primary" for="btnradio2">đ</label>

                    <input type="radio" class="btn-check" checked [(ngModel)]="modelRadioBill" [value]="1"
                        name="btnradio" id="btnradio3" autocomplete="off">
                    <label class="btn btn-outline-primary" for="btnradio3">%</label>
                </div>
            </div>
        </div>

    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modal.close(false)">Thoát</button>
        <button type="button" class="btn btn-primary" (click)="modal.close(true)">Hoàn Tất</button>
    </div>
</ng-template>

<ng-template #basicPay let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Thanh toán đa phương thức</h5>
        <button type="button" class="btn-close" (click)="modal.close(false)" aria-label="Close"></button>
    </div>
    <div class="modal-body">
        <div class="mb-3 fs-5 fw-bold d-flex justify-content-between align-items-center">
            <label for="Discount" class="form-label">Số tiền cần trả</label>
            <h5 class="text-primary fs-4">{{ priceBill | currency:'VND' }}</h5>
        </div>
        <hr>
        <h6 class="fs-5 fw-normal">Thêm phương thức thanh toán</h6>
        <div class="d-flex justify-content-between mt-4" role="group" aria-label="Basic radio toggle button group ">
            <div class="border rounded  btn-outline-secondary">
                <input type="radio" class="btn-check" [(ngModel)]="modelTypePay" [value]="1" name="btnradio"
                    id="btnradio1" autocomplete="off">
                <label class="btn title-bill px-4 py-2 d-block" for="btnradio1"> <svg class="me-2"
                        xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36" fill="none">
                        <rect width="36" height="36" rx="18" fill="#CBFFB9" />
                        <path
                            d="M28.4997 11H7.49967C6.84342 11 6.33301 11.5469 6.33301 12.1667V23.8333C6.33301 24.4896 6.84342 25 7.49967 25H28.4997C29.1195 25 29.6663 24.4896 29.6663 23.8333V12.1667C29.6663 11.5469 29.1195 11 28.4997 11ZM27.9163 20.9167C26.6038 20.9167 25.583 21.974 25.583 23.25H10.4163C10.4163 21.974 9.35905 20.9167 8.08301 20.9167V15.0833C9.35905 15.0833 10.4163 14.0625 10.4163 12.75H25.583C25.583 14.0625 26.6038 15.0833 27.9163 15.0833V20.9167ZM17.9997 14.5C16.359 14.5 15.083 16.0677 15.083 18C15.083 19.9688 16.359 21.5 17.9997 21.5C19.6038 21.5 20.9163 19.9688 20.9163 18C20.9163 16.0677 19.6038 14.5 17.9997 14.5Z"
                            fill="#2CA55C" />
                    </svg>Tiền mặt</label>
            </div>

            <div class="border rounded  btn-outline-secondary">
                <input type="radio" id="btnradio2" class="btn-check" [(ngModel)]="modelTypePay" [value]="'2'"
                    name="btnradio" autocomplete="off">
                <label class="btn title-bill px-4 py-2 d-block" for="btnradio2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="me-2" width="37" height="36" viewBox="0 0 37 36"
                        fill="none">
                        <rect x="0.599609" width="36" height="36" rx="18" fill="#CDE7FF" />
                        <path
                            d="M24.808 8.42196L9.64138 17.172C8.36534 17.9011 8.47471 19.7605 9.82367 20.3074L14.0164 22.0209V25.0834C14.0164 26.797 16.1674 27.4897 17.1518 26.1407L18.756 23.9897L22.8393 25.6668C23.058 25.7761 23.2768 25.8126 23.4955 25.8126C23.7872 25.8126 24.0789 25.7397 24.3705 25.5938C24.8445 25.3022 25.1362 24.8647 25.2455 24.3178L27.3966 10.2084C27.6153 8.75009 26.0476 7.6928 24.808 8.42196ZM15.7664 25.0834V22.7501L17.0789 23.297L15.7664 25.0834ZM23.4955 24.0626L17.881 21.7293L23.0216 14.3647C23.3862 13.7813 22.657 13.1251 22.1466 13.599L14.4174 20.3074L10.5164 18.6668L25.683 9.91676L23.4955 24.0626Z"
                            fill="#007AFF" />
                    </svg>Chuyển khoản</label>
            </div>

            <div class="border rounded  btn-outline-secondary">
                <input type="radio" class="btn-check" [(ngModel)]="modelTypePay" [value]="3" name="btnradio"
                    id="btnradio3" autocomplete="off">
                <label class="btn title-bill px-4 py-2 d-block" for="btnradio3"> <svg xmlns="http://www.w3.org/2000/svg"
                        class="me-2" width="37" height="36" viewBox="0 0 37 36" fill="none">
                        <rect x="0.799805" width="36" height="36" rx="18" fill="#FFECC7" />
                        <path
                            d="M27.5133 9.83325H10.0498C9.06543 9.83325 8.2998 10.6353 8.2998 11.5833V24.4166C8.2998 25.401 9.06543 26.1666 10.0498 26.1666H27.5133C28.4977 26.1666 29.2998 25.401 29.2998 24.4166V11.5833C29.2998 10.6353 28.4977 9.83325 27.5133 9.83325ZM10.2686 11.5833H27.2946C27.4404 11.5833 27.5133 11.6926 27.5133 11.802V13.3333H10.0498V11.802C10.0498 11.6926 10.1227 11.5833 10.2686 11.5833ZM27.2946 24.4166H10.2686C10.1227 24.4166 10.0498 24.3437 10.0498 24.1978V17.9999H27.5133V24.1978C27.5133 24.3437 27.4404 24.4166 27.2946 24.4166ZM15.2998 20.7708C15.2998 20.552 15.0811 20.3333 14.8623 20.3333H12.2373C11.9821 20.3333 11.7998 20.552 11.7998 20.7708V22.2291C11.7998 22.4843 11.9821 22.6666 12.2373 22.6666H14.8623C15.0811 22.6666 15.2998 22.4843 15.2998 22.2291V20.7708ZM22.2998 20.7708C22.2998 20.552 22.0811 20.3333 21.8623 20.3333H16.904C16.6488 20.3333 16.4665 20.552 16.4665 20.7708V22.2291C16.4665 22.4843 16.6488 22.6666 16.904 22.6666H21.8623C22.0811 22.6666 22.2998 22.4843 22.2998 22.2291V20.7708Z"
                            fill="#EC9607" />
                    </svg>Quẹt thẻ</label>
            </div>

            <div class="border rounded   btn-outline-secondary">
                <input type="radio" class="btn-check" [(ngModel)]="modelTypePay" [value]="4" name="btnradio"
                    id="btnradio4" autocomplete="off">
                <label class="btn title-bill px-4 py-2 d-block" for="btnradio4"><svg class="me-2"
                        xmlns="http://www.w3.org/2000/svg" width="37" height="36" viewBox="0 0 37 36" fill="none">
                        <rect x="0.400391" width="36" height="36" rx="18" fill="#E5E5E5" />
                        <path
                            d="M23.5566 22H24.9004C25.1504 22 25.4004 21.7812 25.4004 21.5V20.1875C25.4004 19.9062 25.2754 19.6562 25.0879 19.4688L17.8691 12.25L15.6191 14.5L22.8379 21.7188C23.0254 21.9062 23.2754 22 23.5566 22ZM14.9004 13.7812L17.1504 11.5312L15.8379 10.2188C15.7129 10.0938 15.5254 10.0312 15.3066 10.0312C15.1191 10.0312 14.9316 10.0938 14.7754 10.2188L13.6191 11.4062C13.4629 11.5625 13.4004 11.75 13.4004 11.9375C13.4004 12.1562 13.4629 12.3438 13.6191 12.4688L14.9004 13.7812ZM12.4004 21.5C12.4004 21.7812 12.6191 22 12.9004 22H21.7441L20.2441 20.5H12.9004C12.6191 20.5 12.4004 20.75 12.4004 21V21.5ZM27.4004 14H21.0566L22.5566 15.5H26.9004V24.5H9.90039V15.5H15.2441L14.9004 15.1875L14.2129 14.5L13.7441 14H9.40039C8.83789 14 8.40039 14.4688 8.40039 15V25C8.40039 25.5625 8.83789 26 9.40039 26H27.4004C27.9316 26 28.4004 25.5625 28.4004 25V15C28.4004 14.4688 27.9316 14 27.4004 14ZM12.9004 19.5H19.2441L17.7441 18H12.9004C12.6191 18 12.4004 18.25 12.4004 18.5V19C12.4004 19.2812 12.6191 19.5 12.9004 19.5Z"
                            fill="#5B6173" />
                    </svg>Ghi nợ</label>
            </div>
        </div>
        <h6 class="fs-5 fw-normal my-2">Khách trả:</h6>
        <div class="row">
            <div class="col-3">
                <div class="border rounded">
                    <p class="btn d-flex align-items-center fs-5"> <svg class="me-2" xmlns="http://www.w3.org/2000/svg"
                            width="36" height="36" viewBox="0 0 36 36" fill="none">
                            <rect width="36" height="36" rx="18" fill="#CBFFB9" />
                            <path
                                d="M28.4997 11H7.49967C6.84342 11 6.33301 11.5469 6.33301 12.1667V23.8333C6.33301 24.4896 6.84342 25 7.49967 25H28.4997C29.1195 25 29.6663 24.4896 29.6663 23.8333V12.1667C29.6663 11.5469 29.1195 11 28.4997 11ZM27.9163 20.9167C26.6038 20.9167 25.583 21.974 25.583 23.25H10.4163C10.4163 21.974 9.35905 20.9167 8.08301 20.9167V15.0833C9.35905 15.0833 10.4163 14.0625 10.4163 12.75H25.583C25.583 14.0625 26.6038 15.0833 27.9163 15.0833V20.9167ZM17.9997 14.5C16.359 14.5 15.083 16.0677 15.083 18C15.083 19.9688 16.359 21.5 17.9997 21.5C19.6038 21.5 20.9163 19.9688 20.9163 18C20.9163 16.0677 19.6038 14.5 17.9997 14.5Z"
                                fill="#2CA55C" />
                        </svg>Tiền mặt</p>
                </div>
            </div>
            <div class="col-9 d-flex align-items-center">
                <div class="position-relative h-100 " style="flex: 1;">
                    <input type="text" value="0" class="form-control text-start p-2 h-100" >
                    <button class="btn btn-primary p-0 position-absolute top-50 start-80 translate-middle" style="width: 100px;">Thanh toán</button>
                </div>
                <i class="feather icon-delete text-danger ms-2" style="cursor: pointer;"></i>
            </div>
        </div>
    </div>

    <div class="modal-footer flex-column">

        <table class="table">
            <tbody>
                <tr>
                    <td class="text-primary p-0 fw-bold align-middle">Khách phải trả</td>
                    <td class="text-end p-0 d-flex align-items-center" ><input type="text" value="{{ priceBill }}"
                            class="form-control bg-white border-0 text-end" style="background-color: #e9ecef !important;" disabled>₫</td>
                </tr>
                <tr>
                    <td class="text-bold-800  p-0  align-middle">Tổng khách đưa</td>
                    <td class="text-end  p-0 text-danger d-flex align-items-center"><input type="text" value="0"
                            class="form-control bg-white text-danger border-0  text-end" style="background-color: #e9ecef  !important;" disabled>₫</td>
                </tr>
                <tr>
                    <td class="text-bold-800  p-0  align-middle">Còn lại cần thanh toán</td>
                    <td class="text-end  p-0 text-danger d-flex align-items-center"><input type="text" value="{{ paymentPrice  }}"
                            class="form-control bg-white text-danger border-0  text-end" style="background-color: #e9ecef !important;" disabled>₫</td>
                </tr>
            </tbody>
        </table>
        <div class="mt-4">
            <button type="button" class="btn btn-secondary" (click)="modal.close(false)">Thoát</button>
            <button type="button" class="btn btn-primary ms-2" (click)="modal.close(true)">Hoàn Tất Đơn Hàng</button>
        </div>
    </div>
</ng-template>